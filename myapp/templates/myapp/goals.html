{% extends 'myapp/base.html' %}
{% load static %}
{% block title %} Goals page {% endblock %}
{% block content %}
       
        <div class="main-content">
        <div class="overview">
            <div class="textblock">
        <section  class="idea">Financial Goals</section>
        <section class="work">Track and achieve your savings targets</section>
             </div>
            <button class="addgoalbtn"><i class="fas fa-plus-circle"></i>   Add Goal</button>
             <div id="addgoal-dialog" class="dialoggoal">
            <div class="dialog-content">
    <span id="close-dialog" class="close">&times;</span>
    <br>
    <div class="dialogtopic"> Add Financial Goal</div>
    <div class="dialogexplain">Create a new savings goal to track your progress</div>

    <form class="goal-form">
  <div class="form-group">
    <label for="goal-title">Goal Title</label>
    <input type="text" id="goal-title" placeholder="e.g., Emergency Fund" required>
  </div>

  <div class="form-group">
    <label for="target-amount">Target Amount</label>
    <input type="number" id="target-amount" placeholder="$0.00" min="0" step="0.01" required>
  </div>

  <div class="form-group">
    <label for="category">Category</label>
    <select id="category" required>
      <option value="" disabled selected>Select category</option>
      <option value="savings">Savings</option>
      <option value="investment">Investment</option>
      <option value="emergency">Emergency</option>
    </select>
  </div>

  <div class="form-group">
    <label for="target-date">Target Date</label>
    <input type="date" id="target-date" placeholder="mm/dd/yyyy" required>
  </div>
 <div class="form-actions">
    <button type="submit" class="submit-btn">Add Goal</button>
    <button type="button" class="cancel-btn" onclick="handleCancel()">Cancel</button>
  </div>
</form>

    </div>
    </div>
        </div>
        <div class="goalview">
            <div class="viewcard">
                <div class="content">
                <section class="main">
                    <span>Total Goals</span>
                    <i  class="fas fa-bullseye"></i>
                </section>
                <section class="goalnumber">3</section>
                <section class="completegoal">0 goals completed</section>
                </div>
            </div>

            <div class="viewcard">
                <div class="content">
                <section class="main">
                    <span>Total Target</span>
                   <i class="fas fa-arrow-trend-up"></i> 
                </section>
                <section class="goalnumber"style="color:rgb(109,109,224);">$17000.00</section>
                <section class="completegoal">$650.00 saved</section>
            </div>
            </div>

            <div class="viewcard">
    <div class="content">
                <section class="main">
                    <span>Overall Progress</span>
                    <i class="fas fa-calendar"></i>
                </section>
                <section class="goalnumber">38%</section>
               <div class="progressbar">
               <div class="progressfill" style="width: 38%;"></div>
                </div>

            </div>
            </div>

        </div>
      <div class="slot-container">
  <div class="tab-buttons">
    <button class="tab-btn active" onclick="showPanel(this, 'goals')">
      <span class="tab-icon"><i class="fas fa-bullseye"></i></span> My Goals
    </button>
    <button class="tab-btn" onclick="showPanel(this, 'milestones')">
      <span class="tab-icon"><i class="fas fa-flag"></i></span> Milestones
    </button>
  </div>





  <div id="milestones"  class="tab-panel">
     <span class="active">Milestones</span>
    <div class="milestonegrid">
      <div class="milestonecard">
        <div class="goalheader">
    <span class="goalname"><i class="fas fa-trophy"></i>
</i> Milestones</span>
   <button class="complete"> 45% Complete</button></button>
  </div>
  <div class="type">Track your progress checkpoints</div>
   <div class="milestone-tracker">
  <div class="milestone-item completed">
    <div class="container">
    <div class="milestone-label">
      <i class="fas fa-seedling" ></i> First Quarter
    </div>
    <div class="milestone-status">
      <i class="fas fa-check-circle" style="color: green;"></i> Completed
    </div>
    </div>
    <div class="milestone-target">$2,500.00</div>
    
  </div>

  <div class="milestone-item active">
    <div class="container">
    <div class="milestone-label">
      <i class="fas fa-flag" ></i> Halfway There
    </div>
    <div class="milestone-status">
      <i class="fas fa-hourglass" style="color: gold;"></i> Completed
    </div>
    </div>
    <div class="milestone-target">$5,000.00</div>
    
  </div>

  <div class="milestone-item upcoming">
    <div class="container">
    <div class="milestone-label">
      <i class="fas fa-flag-checkered" ></i> Final Stretch
    </div>
    <div class="milestone-status">
      <i class="fas fa-running" style="color: navy;"></i> Not yet reached
    </div>
    </div>
    <div class="milestone-target">$7,500.00</div>
    
  </div>

  <div class="milestone-item upcoming">
     <div class="container">
    <div class="milestone-label">
      <i class="fas fa-trophy" ></i> Goal Achieved
    </div>
    <div class="milestone-status">
      <i class="fas fa-star" style="color: gold;"></i> Not yet reached
    </div>
    </div>
    <div class="milestone-target">$10,000.00</div>
    
  </div>
  
</div>    
    </div>
    

    <div class="milestonecard">
        <div class="goalheader">
    <span class="goalname"><i class="fas fa-trophy"></i>
</i> Milestones</span>
   <button class="complete"> 45% Complete</button></button>
  </div>
  <div class="type">Track your progress checkpoints</div>
   <div class="milestone-tracker">
  <div class="milestone-item completed">
    <div class="container">
    <div class="milestone-label">
      <i class="fas fa-seedling" ></i> First Quarter
    </div>
    <div class="milestone-status">
      <i class="fas fa-check-circle" style="color: green;"></i> Completed
    </div>
    </div>
    <div class="milestone-target">$2,500.00</div>
    
  </div>

  <div class="milestone-item active">
    <div class="container">
    <div class="milestone-label">
      <i class="fas fa-flag" ></i> Halfway There
    </div>
    <div class="milestone-status">
      <i class="fas fa-hourglass" style="color: gold;"></i> Completed
    </div>
    </div>
    <div class="milestone-target">$5,000.00</div>
    
  </div>

  <div class="milestone-item upcoming">
    <div class="container">
    <div class="milestone-label">
      <i class="fas fa-flag-checkered" ></i> Final Stretch
    </div>
    <div class="milestone-status">
      <i class="fas fa-running" style="color: navy;"></i> Not yet reached
    </div>
    </div>
    <div class="milestone-target">$7,500.00</div>
    
  </div>

  <div class="milestone-item upcoming">
     <div class="container">
    <div class="milestone-label">
      <i class="fas fa-trophy" ></i> Goal Achieved
    </div>
    <div class="milestone-status">
      <i class="fas fa-star" style="color: gold;"></i> Not yet reached
    </div>
    </div>
    <div class="milestone-target">$10,000.00</div>
    
  </div>
  
</div>    
    </div>

    <div class="milestonecard">
        <div class="goalheader">
    <span class="goalname"><i class="fas fa-trophy"></i>
</i> Milestones</span>
   <button class="complete"> 45% Complete</button></button>
  </div>
  <div class="type">Track your progress checkpoints</div>
   <div class="milestone-tracker">
  <div class="milestone-item completed">
    <div class="container">
    <div class="milestone-label">
      <i class="fas fa-seedling" ></i> First Quarter
    </div>
    <div class="milestone-status">
      <i class="fas fa-check-circle" style="color: green;"></i> Completed
    </div>
    </div>
    <div class="milestone-target">$2,500.00</div>
    
  </div>

  <div class="milestone-item active">
    <div class="container">
    <div class="milestone-label">
      <i class="fas fa-flag" ></i> Halfway There
    </div>
    <div class="milestone-status">
      <i class="fas fa-hourglass" style="color: gold;"></i> Completed
    </div>
    </div>
    <div class="milestone-target">$5,000.00</div>
    
  </div>

  <div class="milestone-item upcoming">
    <div class="container">
    <div class="milestone-label">
      <i class="fas fa-flag-checkered" ></i> Final Stretch
    </div>
    <div class="milestone-status">
      <i class="fas fa-running" style="color: navy;"></i> Not yet reached
    </div>
    </div>
    <div class="milestone-target">$7,500.00</div>
    
  </div>

  <div class="milestone-item upcoming">
     <div class="container">
    <div class="milestone-label">
      <i class="fas fa-trophy" ></i> Goal Achieved
    </div>
    <div class="milestone-status">
      <i class="fas fa-star" style="color: gold;"></i> Not yet reached
    </div>
    </div>
    <div class="milestone-target">$10,000.00</div>
    
  </div>
  
</div>    
    </div>

    <div class="milestonecard">
        <div class="goalheader">
    <span class="goalname"><i class="fas fa-trophy"></i>
</i> Milestones</span>
   <button class="complete"> 45% Complete</button></button>
  </div>
  <div class="type">Track your progress checkpoints</div>
   <div class="milestone-tracker">
  <div class="milestone-item completed">
    <div class="container">
    <div class="milestone-label">
      <i class="fas fa-seedling" ></i> First Quarter
    </div>
    <div class="milestone-status">
      <i class="fas fa-check-circle" style="color: green;"></i> Completed
    </div>
    </div>
    <div class="milestone-target">$2,500.00</div>
    
  </div>

  <div class="milestone-item active">
    <div class="container">
    <div class="milestone-label">
      <i class="fas fa-flag" ></i> Halfway There
    </div>
    <div class="milestone-status">
      <i class="fas fa-hourglass" style="color: gold;"></i> Completed
    </div>
    </div>
    <div class="milestone-target">$5,000.00</div>
    
  </div>

  <div class="milestone-item upcoming">
    <div class="container">
    <div class="milestone-label">
      <i class="fas fa-flag-checkered" ></i> Final Stretch
    </div>
    <div class="milestone-status">
      <i class="fas fa-running" style="color: navy;"></i> Not yet reached
    </div>
    </div>
    <div class="milestone-target">$7,500.00</div>
    
  </div>

  <div class="milestone-item upcoming">
     <div class="container">
    <div class="milestone-label">
      <i class="fas fa-trophy" ></i> Goal Achieved
    </div>
    <div class="milestone-status">
      <i class="fas fa-star" style="color: gold;"></i> Not yet reached
    </div>
    </div>
    <div class="milestone-target">$10,000.00</div>
    
  </div>
  
</div>    
    </div>

  </div>
  </div>

  <div id="goals" class="tab-panel active">
            <span class="active">Active Goals</span>
            <div class="goalgrid">
            <div class="goalcard">
  <div class="goalheader">
    <span class="goalname"><i class="fas fa-bullseye"></i> Emergency Fund</span>
    <i class="fas fa-trash-alt"></i>
  </div>
  <div class="type">Savings</div>
  <div class="progresscard">
    <div class="info">Progress</div>
    <div class="values">
      <span class="goalsaved">$800.00</span>
      <span class="divider">/</span>
      <span class="goalvalue">$2000.00</span>
    </div>
    <div class="progressbar">
      <div class="progressfill" style="width: 40%;"></div>
    </div>
    <div class="percentage">40.0% complete</div>
  </div>
  <div class="goalend">
    <div class="inf">Remaining <div class="goalremaining">$1,200.00</div></div>
    <div class="inf">Deadline <div class="goaldeadline">189 days</div></div>
  </div>
  <button class="contributebtn">Add Contribution</button>
</div>

<div class="goalcard">
  <div class="goalheader">
    <span class="goalname"><i class="fas fa-bullseye"></i> Emergency Fund</span>
    <i class="fas fa-trash-alt"></i>
  </div>
  <div class="type">Savings</div>
  <div class="progresscard">
    <div class="info">Progress</div>
    <div class="values">
      <span class="goalsaved">$800.00</span>
      <span class="divider">/</span>
      <span class="goalvalue">$2000.00</span>
    </div>
    <div class="progressbar">
      <div class="progressfill" style="width: 40%;"></div>
    </div>
    <div class="percentage">40.0% complete</div>
  </div>
  <div class="goalend">
    <div class="inf">Remaining <div class="goalremaining">$1,200.00</div></div>
    <div class="inf">Deadline <div class="goaldeadline">189 days</div></div>
  </div>
  <button class="contributebtn">Add Contribution</button>
</div>


<div class="goalcard">
  <div class="goalheader">
    <span class="goalname"><i class="fas fa-bullseye"></i> Emergency Fund</span>
    <i class="fas fa-trash-alt"></i>
  </div>
  <div class="type">Savings</div>
  <div class="progresscard">
    <div class="info">Progress</div>
    <div class="values">
      <span class="goalsaved">$800.00</span>
      <span class="divider">/</span>
      <span class="goalvalue">$2000.00</span>
    </div>
    <div class="progressbar">
      <div class="progressfill" style="width: 40%;"></div>
    </div>
    <div class="percentage">40.0% complete</div>
  </div>
  <div class="goalend">
    <div class="inf">Remaining <div class="goalremaining">$1,200.00</div></div>
    <div class="inf">Deadline <div class="goaldeadline">189 days</div></div>
  </div>
  <button class="contributebtn">Add Contribution</button>
</div>

<div class="goalcard">
  <div class="goalheader">
    <span class="goalname"><i class="fas fa-bullseye"></i> Emergency Fund</span>
    <i class="fas fa-trash-alt"></i>
  </div>
  <div class="type">Savings</div>
  <div class="progresscard">
    <div class="info">Progress</div>
    <div class="values">
      <span class="goalsaved">$800.00</span>
      <span class="divider">/</span>
      <span class="goalvalue">$2000.00</span>
    </div>
    <div class="progressbar">
      <div class="progressfill" style="width: 40%;"></div>
    </div>
    <div class="percentage">40.0% complete</div>
  </div>
  <div class="goalend">
    <div class="inf">Remaining <div class="goalremaining">$1,200.00</div></div>
    <div class="inf">Deadline <div class="goaldeadline">189 days</div></div>
  </div>
  <button class="contributebtn">Add Contribution</button>
</div>
<div id="addcontribution-dialog" class="dialoggoal">
  <div class="dialog-content">
    <span id="close-contribution-dialog" class="close">&times;</span>
    <br>
    <div class="dialogtopic">Add Contribution</div>
    <div class="dialogexplain">Record a new contribution towards your goal</div>

    <div class="topbox">
      <div class="line1">
        <div class="ctext">
          Current Progress
        </div>
        <div class="cprogresscard">
    <div class="values">
      <span class="goalsaved">$800.00</span>
      <span class="divider">/</span>
      <span class="goalvalue">$2000.00</span>
    </div>
    <div class="progressbar">
      <div class="progressfill" style="width: 40%;"></div>
    </div>
    <div class="percentage">40.0% complete</div>
  </div>
      </div>
    </div>
    <form class="contribution-form">
      <div class="form-group">
        <label for="contribution-amount">Contribution Amount</label>
        <input type="number" id="contribution-amount" placeholder="$0.00" min="0" step="0.01" required>
      </div>

      <div class="form-group">
        <label for="contribution-date">Contribution Date</label>
        <input type="date" id="contribution-date" required>
      </div>

      <div class="form-group">
        <label for="contribution-note">Note (optional)</label>
        <input type="text" id="contribution-note" placeholder="e.g., Salary deposit">
      </div>

      <div class="form-actions">
        <button type="submit" class="submit-btn">Add Contribution</button>
        <button type="button" class="cancel-btn" onclick="handleContributionCancel()">Cancel</button>
      </div>
    </form>
  </div>
</div>
</div>
</div>
</div>
</div>
            
            </div>
            </div>
        
  {% endblock %}

{% block extra_css %} 
<link rel="stylesheet" href="{% static 'myapp/css/goalsstyle.css' %}">
{% endblock %}



{% block extra_js %}
<script>
    
      
    const addgoalBtn = document.querySelector('.addgoalbtn');
const dialoggoal = document.getElementById('addgoal-dialog'); // fixed ID
const closeBtn = document.getElementById('close-dialog');

// Open dialog on button click
addgoalBtn.addEventListener('click', () => {
  dialoggoal.style.display = 'block';
});

// Close dialog
closeBtn.addEventListener('click', () => {
  dialoggoal.style.display = 'none';
});

// Close when clicking outside
window.addEventListener('click', (e) => {
  if (e.target === dialoggoal) {
    dialoggoal.style.display = 'none';
  }
  
});
function handleCancel() {
  const form = document.querySelector('.goal-form'); 
  form.reset(); 
  dialoggoal.style.display = 'none';
}
// Contribution dialog elements
const contributionBtns = document.querySelectorAll('.contributebtn');
const contributionDialog = document.getElementById('addcontribution-dialog');
const closeContributionBtn = document.getElementById('close-contribution-dialog');

// Open dialog when any "Add Contribution" button is clicked
contributionBtns.forEach(btn => {
  btn.addEventListener('click', () => {
    contributionDialog.style.display = 'block';
  });
});

// Close dialog
closeContributionBtn.addEventListener('click', () => {
  contributionDialog.style.display = 'none';
});

// Close when clicking outside
window.addEventListener('click', (e) => {
  if (e.target === contributionDialog) {
    contributionDialog.style.display = 'none';
  }
});

// Cancel handler
function handleContributionCancel() {
  const form = document.querySelector('.contribution-form');
  form.reset();
  contributionDialog.style.display = 'none';
}

function showPanel(button, panelId) {
  document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
  document.querySelectorAll('.tab-panel').forEach(panel => panel.classList.remove('active'));

  button.classList.add('active');
  document.getElementById(panelId).classList.add('active');
}
     </script>
  {% endblock %}
